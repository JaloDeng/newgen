webpackJsonp([4],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},o,!1,function(e){n("gsu9")},null,null).exports,s=n("/ocq");r.default.use(s.a);var u=new s.a({mode:"history",routes:[{path:"/",name:"Login",component:function(){return n.e(2).then(n.bind(null,"xJsL"))}},{path:"/home",name:"Home",component:function(){return n.e(1).then(n.bind(null,"lO7g"))}}]}),i=n("zL8q"),l=n.n(i),c=(n("tvR6"),n("mvHQ")),m=n.n(c),g=n("NYxO");r.default.use(g.a);var d=new g.a.Store({state:{user:{name:window||window.localStorage||null==window.localStorage.getItem("user")?"未登陆":JSON.parse(window.localStorage.getItem("user")).name,userface:window||window.localStorage||null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).userface,username:window||window.localStorage||null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username,roles:window||window.localStorage||null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).roles},routes:[]},mutations:{initMenu:function(e,t){e.routes=t},login:function(e,t){e.user=t,window.localStorage.setItem("user",m()(t))},logout:function(e){window.localStorage.removeItem("user")}}}),p=n("mtWM"),f=n.n(p);f.a.interceptors.request.use(function(e){return e},function(){i.Message.error({message:"请求超时！"})}),f.a.interceptors.response.use(function(e){if(!e.status||200!==e.status||0!==e.data.ret)return e.data.msg&&i.Message.success({message:e.data.msg}),e;i.Message.error({message:e.data.msg})},function(e){504===e.response.status||404===e.response.status?i.Message.error({message:"服务器被吃了⊙﹏⊙∥"}):403===e.response.status?i.Message.error({message:"权限不足,请联系管理员!"}):401===e.response.status?i.Message.error({message:e.response.data.msg}):e.response.data.msg?i.Message.error({message:e.response.data.msg}):i.Message.error({message:"未知错误!"})});var w=function(e){return f()({method:"get",url:""+e})},h=function e(t){var r=[];return t.forEach(function(t){var o=t.path,a=t.component,s=t.name,u=t.meta,i=t.iconCls,l=t.children;l&&l instanceof Array&&(l=e(l));var c={path:o,component:function(e){a.startsWith("Home")&&n.e(0).then(function(){var t=[n("2eoi")("./"+a+".vue")];e.apply(null,t)}.bind(this)).catch(n.oe)},name:s,iconCls:i,meta:u,children:l};r.push(c)}),r};r.default.use(l.a),r.default.config.productionTip=!1,r.default.prototype.getRequest=w,r.default.prototype.postRequest=function(e,t){return f()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},r.default.prototype.isNotNullORBlank=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];if(null===o||""===o||void 0===o)return i.Message.warning({message:"数据不能为空!"}),!1}return!0},u.beforeEach(function(e,t,n){var r,o;"Login"!==e.name?"未登录"===d.state.user.name?e.meta.requireAuth||null==e.name?n({path:"/",query:{redirect:e.path}}):n():(r=u,(o=d).state.routes.length>0||w("/getMenuByCurrentUserId").then(function(e){if(e&&200===e.status){var t=h(e.data);r.addRoutes(t),o.commit("initMenu",t)}}),n()):n()}),new r.default({el:"#app",router:u,store:d,components:{App:a},template:"<App/>"})},gsu9:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2e9a4732ead896fef1a3.js.map